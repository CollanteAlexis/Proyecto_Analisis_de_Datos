CREATE DATABASE bronze;
CREATE DATABASE silver;
CREATE DATABASE gold;

USE bronze;
-- crear el esquema en silver una vez que se hayan cargado los datos en bronze y crear las claves primarias y foraneas
-- use silver; 
CREATE TABLE application_train (
    SK_ID_CURR INT,
    TARGET INT,
    NAME_CONTRACT_TYPE BIGINT,
    CODE_GENDER TEXT,
    FLAG_OWN_CAR TEXT,
    FLAG_OWN_REALTY TEXT,
    CNT_CHILDREN INT,
    AMT_INCOME_TOTAL DOUBLE,
    AMT_CREDIT DOUBLE,
    AMT_ANNUITY DOUBLE,
    AMT_GOODS_PRICE DOUBLE,
    NAME_TYPE_SUITE TEXT,
    NAME_INCOME_TYPE TEXT,
    NAME_EDUCATION_TYPE TEXT,
    NAME_FAMILY_STATUS TEXT,
    NAME_HOUSING_TYPE TEXT,
    REGION_POPULATION_RELATIVE DOUBLE,
    DAYS_BIRTH INT,
    DAYS_EMPLOYED INT,
    DAYS_REGISTRATION DOUBLE,
    DAYS_ID_PUBLISH INT,
    OWN_CAR_AGE TEXT,
    FLAG_MOBIL INT,
    FLAG_EMP_PHONE INT,
    FLAG_WORK_PHONE INT,
    FLAG_CONT_MOBILE DOUBLE,
    FLAG_PHONE INT,
    FLAG_EMAIL INT,
    OCCUPATION_TYPE TEXT,
    CNT_FAM_MEMBERS DOUBLE,
    REGION_RATING_CLIENT INT,
    REGION_RATING_CLIENT_W_CITY INT,
    WEEKDAY_APPR_PROCESS_START TEXT,
    HOUR_APPR_PROCESS_START INT,
    REG_REGION_NOT_LIVE_REGION INT,
    REG_REGION_NOT_WORK_REGION INT,
    LIVE_REGION_NOT_WORK_REGION INT,
    REG_CITY_NOT_LIVE_CITY INT,
    REG_CITY_NOT_WORK_CITY INT,
    LIVE_CITY_NOT_WORK_CITY INT,
    ORGANIZATION_TYPE TEXT,
    EXT_SOURCE_1 TEXT,
    EXT_SOURCE_2 DOUBLE,
    EXT_SOURCE_3 TEXT,
    APARTMENTS_AVG TEXT,
    BASEMENTAREA_AVG TEXT,
    YEARS_BEGINEXPLUATATION_AVG TEXT,
    YEARS_BUILD_AVG TEXT,
    COMMONAREA_AVG TEXT,
    ELEVATORS_AVG TEXT,
    ENTRANCES_AVG TEXT,
    FLOORSMAX_AVG TEXT,
    FLOORSMIN_AVG TEXT,
    LANDAREA_AVG TEXT,
    LIVINGAPARTMENTS_AVG TEXT,
    LIVINGAREA_AVG TEXT,
    NONLIVINGAPARTMENTS_AVG TEXT,
    NONLIVINGAREA_AVG TEXT,
    APARTMENTS_MODE TEXT,
    BASEMENTAREA_MODE TEXT,
    YEARS_BEGINEXPLUATATION_MODE TEXT,
    YEARS_BUILD_MODE TEXT,
    COMMONAREA_MODE TEXT,
    ELEVATORS_MODE TEXT,
    ENTRANCES_MODE TEXT,
    FLOORSMAX_MODE TEXT,
    FLOORSMIN_MODE TEXT,
    LANDAREA_MODE TEXT,
    LIVINGAPARTMENTS_MODE TEXT,
    LIVINGAREA_MODE TEXT,
    NONLIVINGAPARTMENTS_MODE TEXT,
    NONLIVINGAREA_MODE TEXT,
    APARTMENTS_MEDI TEXT,
    BASEMENTAREA_MEDI TEXT,
    YEARS_BEGINEXPLUATATION_MEDI TEXT,
    YEARS_BUILD_MEDI TEXT,
    COMMONAREA_MEDI TEXT,
    ELEVATORS_MEDI TEXT,
    ENTRANCES_MEDI TEXT,
    FLOORSMAX_MEDI TEXT,
    FLOORSMIN_MEDI TEXT,
    LANDAREA_MEDI TEXT,
    LIVINGAPARTMENTS_MEDI TEXT,
    LIVINGAREA_MEDI TEXT,
    NONLIVINGAPARTMENTS_MEDI TEXT,
    NONLIVINGAREA_MEDI TEXT,
    FONDKAPREMONT_MODE TEXT,
    HOUSETYPE_MODE TEXT,
    TOTALAREA_MODE TEXT,
    WALLSMATERIAL_MODE TEXT,
    EMERGENCYSTATE_MODE TEXT,
    OBS_30_CNT_SOCIAL_CIRCLE DOUBLE,
    DEF_30_CNT_SOCIAL_CIRCLE DOUBLE,
    OBS_60_CNT_SOCIAL_CIRCLE DOUBLE,
    DEF_60_CNT_SOCIAL_CIRCLE DOUBLE,
    DAYS_LAST_PHONE_CHANGE DOUBLE,
    FLAG_DOCUMENT_2 INT,
    FLAG_DOCUMENT_3 INT,
    FLAG_DOCUMENT_4 INT,
    FLAG_DOCUMENT_5 INT,
    FLAG_DOCUMENT_6 INT,
    FLAG_DOCUMENT_7 INT,
    FLAG_DOCUMENT_8 INT,
    FLAG_DOCUMENT_9 INT,
    FLAG_DOCUMENT_10 INT,
    FLAG_DOCUMENT_11 INT,
    FLAG_DOCUMENT_12 INT,
    FLAG_DOCUMENT_13 INT,
    FLAG_DOCUMENT_14 INT,
    FLAG_DOCUMENT_15 INT,
    FLAG_DOCUMENT_16 INT,
    FLAG_DOCUMENT_17 INT,
    FLAG_DOCUMENT_18 INT,
    FLAG_DOCUMENT_19 INT,
    FLAG_DOCUMENT_20 INT,
    FLAG_DOCUMENT_21 INT,
    AMT_REQ_CREDIT_BUREAU_HOUR TEXT,
    AMT_REQ_CREDIT_BUREAU_DAY TEXT,
    AMT_REQ_CREDIT_BUREAU_WEEK TEXT,
    AMT_REQ_CREDIT_BUREAU_MON TEXT,
    AMT_REQ_CREDIT_BUREAU_QRT TEXT,
    AMT_REQ_CREDIT_BUREAU_YEAR TEXT
);

CREATE TABLE application_test LIKE application_train;

CREATE TABLE bureau (
    SK_ID_BUREAU INT,
    SK_ID_CURR INT,
    CREDIT_ACTIVE TEXT,
    CREDIT_CURRENCY TEXT,
    DAYS_CREDIT INT,
    CREDIT_DAY_OVERDUE INT,
    DAYS_CREDIT_ENDDATE TEXT,
    DAYS_ENDDATE_FACT TEXT,
    AMT_CREDIT_MAX_OVERDUE TEXT,
    CNT_CREDIT_PROLONG INT,
    AMT_CREDIT_SUM DOUBLE,
    AMT_CREDIT_SUM_DEBT TEXT,
    AMT_CREDIT_SUM_LIMIT TEXT,
    AMT_CREDIT_SUM_OVERDUE DOUBLE,
    CREDIT_TYPE TEXT,
    DAYS_CREDIT_UPDATE INT,
    AMT_ANNUITY TEXT
);

CREATE TABLE bureau_balance (
    SK_ID_BUREAU INT,
    MONTHS_BALANCE INT,
    STATUS TEXT
);

CREATE TABLE previous_application (
    SK_ID_PREV INT,
    SK_ID_CURR INT,
    NAME_CONTRACT_TYPE TEXT,
    AMT_ANNUITY DOUBLE,
    AMT_APPLICATION DOUBLE,
    AMT_CREDIT DOUBLE,
    AMT_DOWN_PAYMENT TEXT,
    AMT_GOODS_PRICE INT,
    WEEKDAY_APPR_PROCESS_START TEXT,
    HOUR_APPR_PROCESS_START TEXT,
    FLAG_LAST_APPL_PER_CONTRACT TEXT,
    NFLAG_LAST_APPL_IN_DAY INT,
    RATE_DOWN_PAYMENT TEXT,
    RATE_INTEREST_PRIMARY TEXT,
    RATE_INTEREST_PRIVILEGED TEXT,
    NAME_CASH_LOAN_PURPOSE TEXT,
    NAME_CONTRACT_STATUS TEXT,
    DAYS_DECISION TEXT,
    NAME_PAYMENT_TYPE TEXT,
    CODE_REJECT_REASON TEXT,
    NAME_TYPE_SUITE TEXT,
    NAME_CLIENT_TYPE TEXT,
    NAME_GOODS_CATEGORY TEXT,
    NAME_PORTFOLIO TEXT,
    NAME_PRODUCT_TYPE TEXT,
    CHANNEL_TYPE TEXT,
    SELLERPLACE_AREA TEXT,
    NAME_SELLER_INDUSTRY TEXT,
    CNT_PAYMENT DOUBLE,
    NAME_YIELD_GROUP TEXT,
    PRODUCT_COMBINATION TEXT,
    DAYS_FIRST_DRAWING TEXT,
    DAYS_FIRST_DUE TEXT,
    DAYS_LAST_DUE_1ST_VERSION TEXT,
    DAYS_LAST_DUE TEXT,
    DAYS_TERMINATION TEXT,
    NFLAG_INSURED_ON_APPROVAL TEXT
);

CREATE TABLE POS_CASH_balance (
    SK_ID_PREV INT,
    SK_ID_CURR INT,
    MONTHS_BALANCE INT,
    CNT_INSTALMENT DOUBLE,
    CNT_INSTALMENT_FUTURE DOUBLE,
    NAME_CONTRACT_STATUS TEXT,
    SK_DPD INT,
    SK_DPD_DEF INT
);

CREATE TABLE credit_card_balance (
    SK_ID_PREV INT,
    SK_ID_CURR INT,
    MONTHS_BALANCE INT,
    AMT_BALANCE DOUBLE,
    AMT_CREDIT_LIMIT_ACTUAL INT,
    AMT_DRAWINGS_ATM_CURRENT DOUBLE,
    AMT_DRAWINGS_CURRENT DOUBLE,
    AMT_DRAWINGS_OTHER_CURRENT DOUBLE,
    AMT_DRAWINGS_POS_CURRENT DOUBLE,
    AMT_INST_MIN_REGULARITY DOUBLE,
    AMT_PAYMENT_CURRENT DOUBLE,
    AMT_PAYMENT_TOTAL_CURRENT DOUBLE,
    AMT_RECEIVABLE_PRINCIPAL DOUBLE,
    AMT_RECIVABLE DOUBLE,
    AMT_TOTAL_RECEIVABLE DOUBLE,
    CNT_DRAWINGS_ATM_CURRENT DOUBLE,
    CNT_DRAWINGS_CURRENT INT,
    CNT_DRAWINGS_OTHER_CURRENT DOUBLE,
    CNT_DRAWINGS_POS_CURRENT DOUBLE,
    CNT_INSTALMENT_MATURE_CUM DOUBLE,
    NAME_CONTRACT_STATUS TEXT,
    SK_DPD INT,
    SK_DPD_DEF INT
);

CREATE TABLE installments_payments (
    SK_ID_PREV INT,
    SK_ID_CURR INT,
    NUM_INSTALMENT_VERSION DOUBLE,
    NUM_INSTALMENT_NUMBER INT,
    DAYS_INSTALMENT DOUBLE,
    DAYS_ENTRY_PAYMENT DOUBLE,
    AMT_INSTALMENT DOUBLE,
    AMT_PAYMENT DOUBLE
);









